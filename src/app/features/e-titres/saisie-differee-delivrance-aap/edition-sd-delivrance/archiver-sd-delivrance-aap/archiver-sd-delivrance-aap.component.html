<form [formGroup]="formulaire" (ngSubmit)="onSubmit()">

  <mat-horizontal-stepper linear #stepper>
    
    <mat-step [editable]="true">

      <ng-template matStepLabel>Document de sortie</ng-template>
    
      <form>

        <div fxLayout="row"  fxLayoutAlign="start">
          <div fxLayout="column" class="flex-p" [fxFlex.xs]="100" [fxFlex.sm]="100" [fxFlex.md]="100" [fxFlex.lg]="70" [fxFlex.xl]="50">
             
                          
                        
                        <form [formGroup]="documentDeSortie">

                          <div fxLayout="row" fxLayout.lt-md="row wrap" fxLayoutGap.gt-sm="20px" fxLayoutAlign="start">
                              <mat-form-field class="sycad-form-line" appearance="outline" [fxFlex.xs]="100" [fxFlex.sm]="100" [fxFlex.md]="100" [fxFlex.lg]="90" [fxFlex.xl]="80">
                                  <mat-label>Libellé (*)</mat-label>
                                  <input matInput [attr.autocomplete]="'off'" formControlName="libelle" [readonly]="true" />
                              </mat-form-field>
                          </div>

                          <div fxLayout="row" fxLayout.lt-md="row wrap" fxLayoutGap.gt-sm="20px" fxLayoutAlign="start">
                              <mat-form-field class="sycad-form-line" appearance="outline" [fxFlex.xs]="100" [fxFlex.sm]="100" [fxFlex.md]="100" [fxFlex.lg]="90" [fxFlex.xl]="80">
                                  <mat-label>Numéro (*)</mat-label>
                                  <input matInput [attr.autocomplete]="'off'" formControlName="numero" [readonly]="true" />
                              </mat-form-field>
                              <mat-form-field class="sycad-form-line" appearance="outline" [fxFlex.xs]="100" [fxFlex.sm]="100" [fxFlex.md]="100" [fxFlex.lg]="45" [fxFlex.xl]="45">
                                <mat-label>Date du document (*)</mat-label>
                                <input matInput [matDatepicker]="dateRegistrePicker" placeholder="Date du document" formControlName="dateDoc">
                                <mat-datepicker-toggle matSuffix [for]="dateRegistrePicker"></mat-datepicker-toggle>
                                <mat-datepicker #dateRegistrePicker></mat-datepicker>
                            </mat-form-field>
                          </div>
                         
                          <div fxLayout="row" fxLayout.lt-md="row wrap" fxLayoutGap.gt-sm="20px" fxLayoutAlign="start">
                      
                            <div [fxFlex]="100">
                              <button mat-icon-button color="warn" class="delete-icons-2" type="button">
                                  <mat-icon (click)="resetDropZone()">clear</mat-icon>
                                </button>
                              <span *ngIf="documentPiece"> <a href="{{documentPiece | generalDownload}}">Télécharger la pièce jointe</a></span>
                              <dropzone class="dropzone-container" [config]="config" [message]="'Cliquez ou faites glisser la pièce jointe ici'" (init)="onUploadInit($event)" (error)="onUploadError($event)" (success)="onUploadSuccess($event)">
                              </dropzone>
                          </div>
                      
                          </div>
                      </form>
                      



          </div>
      </div>



        <!-- <div  fxLayout="row" fxLayout.sm="row wrap" fxLayout.md="row wrap" fxLayoutGap.gt-sm="20px" fxLayoutAlign="start">
          <div fxLayout="column" class="flex-p" [fxFlex.xs]="100" [fxFlex.sm]="100" [fxFlex.md]="100" [fxFlex.lg]="70" [fxFlex.xl]="50">
             
              <div fxLayout="row" fxLayout.lt-md="row wrap" fxLayoutGap.gt-sm="20px" fxLayoutAlign="start">

                  <div [fxFlex]="100">
                      <button mat-icon-button color="warn" class="delete-icons-2" type="button">
                          <mat-icon (click)="resetDropZone()">clear</mat-icon>
                        </button>
                      <span *ngIf="documentPiece"> <a href="{{documentPiece | generalDownload}}">Télécharger la pièce jointe</a></span>
                      <dropzone class="dropzone-container" [config]="config" [message]="'Cliquez ou faites glisser la pièce jointe ici'" (init)="onUploadInit($event)" (error)="onUploadError($event)" (success)="onUploadSuccess($event)">
                      </dropzone>
                  </div>
              </div>
             

          </div>
      </div> -->
          
        

        <div class="card-action-form">
          <div fxLayout="row" [fxLayoutGap]="'20px'" fxLayoutAlign="end center">
            <button mat-raised-button type="button" mat-button (click)="stepper.reset()">Reinitialiser</button>
            <button mat-raised-button color="warn" (click)="resetForm()" type="button">Annuler</button>
            <button mat-raised-button type="button" mat-button matStepperPrevious>Précédent</button>
            <button mat-raised-button color="primary" type="submit" (click)="onSubmit()" [disabled]="!formulaire.valid">{{transition.libelle}}</button>
          </div>
        </div>

      </form>
    </mat-step>
    
  </mat-horizontal-stepper>
</form>
