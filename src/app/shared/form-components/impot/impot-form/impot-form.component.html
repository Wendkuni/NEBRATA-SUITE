<form [formGroup]="impotForm" class="form-container">



    <mat-list>


        <mat-list-item *ngIf="(activeMediaQuery === 'lg' || activeMediaQuery === 'xl' || activeMediaQuery === 'md')">
            <span class="decalle-droite"><strong>Nature impôt </strong> : {{impotData?.natureImpot.libelle}} ( {{impotData?.natureImpot.libelleCourt}})</span>
            <span class="decalle-gauche"><strong> Type nature impôt </strong> : {{impotData?.natureImpot.typeNatureImpot}}</span>
        </mat-list-item>
        <mat-list-item *ngIf="(activeMediaQuery === 'xs' || activeMediaQuery === 'sm')">
            <span><strong>Nature impôt </strong> : {{impotData?.natureImpot.libelle}} ( {{impotData?.natureImpot.libelleCourt}})</span>
        </mat-list-item>
        <mat-list-item *ngIf="(activeMediaQuery === 'xs' || activeMediaQuery === 'sm')">
            <span><strong> Type nature impôt </strong> : {{impotData?.natureImpot.typeNatureImpot}}</span>
        </mat-list-item>


        <mat-list-item *ngIf="(activeMediaQuery === 'lg' || activeMediaQuery === 'xl' || activeMediaQuery === 'md')">
            <span class="decalle-droite"><strong>Type de droit </strong> : {{impotData?.typeDroit}}</span>
            <span class="decalle-gauche"><strong> Système imposition </strong> : {{impotData?.natureImpot.codeSI.libelle}}</span>
        </mat-list-item>
        <mat-list-item *ngIf="(activeMediaQuery === 'xs' || activeMediaQuery === 'sm')">
            <span><strong>Type de droit </strong> : {{impotData?.typeDroit}}</span>
        </mat-list-item>
        <mat-list-item *ngIf="(activeMediaQuery === 'xs' || activeMediaQuery === 'sm')">
            <span><strong> Système imposition </strong> : {{impotData?.natureImpot.codeSI.libelle}}</span>
        </mat-list-item>


        <mat-list-item *ngIf="(activeMediaQuery === 'lg' || activeMediaQuery === 'xl' || activeMediaQuery === 'md')">
            <span class="decalle-droite"><strong>Montant </strong> :  {{impotData?.montant}}</span>
            <span class="decalle-gauche"><strong> Montant exonération </strong> : {{impotData?.montantExoneration}}</span>
        </mat-list-item>
        <mat-list-item *ngIf="(activeMediaQuery === 'xs' || activeMediaQuery === 'sm')">
            <span><strong>Montant de l'impôt </strong> : {{impotData?.montant}}</span>
        </mat-list-item>
        <mat-list-item *ngIf="(activeMediaQuery === 'xs' || activeMediaQuery === 'sm')">
            <span><strong> Montant exonération à appliquer </strong> : {{impotData?.montantExoneration}}</span>
        </mat-list-item>

    </mat-list>

    <div fxLayout="row" fxLayout.sm="row wrap" fxLayout.xs="row wrap" fxLayoutGap.gt-sm="20px" fxLayoutAlign="start">

        <mat-form-field class="sycad-form-line" appearance="outline" [fxFlex.xs]="100" [fxFlex.sm]="100" [fxFlex.md]="100" [fxFlex.lg]="100" [fxFlex.xl]="100">
            <mat-label>Observation sur l'impot </mat-label>
            <input matInput [attr.autocomplete]="'off'" formControlName="observation">
        </mat-form-field>


    </div>

    <div fxLayout="row" fxLayout.sm="row wrap" fxLayout.xs="row wrap" fxLayoutGap.gt-sm="20px" fxLayoutAlign="start">



        <ng-template ngFor let-valeurElementLiquidation [ngForOf]="valeurElementLiquidations.controls" let-i="index">


            <mat-card *ngIf="getValueElementLiquidation(valeurElementLiquidation); let valeurElementLiquidationData" [fxFlex.xs]="100" [fxFlex.sm]="100" [fxFlex.md]="100" [fxFlex.lg]="100" [fxFlex.xl]="100">
                <div fxLayout="row wrap" fxLayoutGap.gt-sm="20px" fxLayoutAlign="start">
                    <mat-form-field class="sycad-form-line zone-text-lecteur-seule" appearance="outline" [fxFlex.xs]="100" [fxFlex.sm]="100" [fxFlex.md]="60" [fxFlex.lg]="30" [fxFlex.xl]="30">
                        <mat-label>Base imposable </mat-label>
                        <input matInput placeholder="Date de création" value="{{valeurElementLiquidationData.baseImpot}}" [readonly]="true">
                        <mat-hint>Formule : {{valeurElementLiquidationData.elementImpot.baseImpot.expression}}</mat-hint>
                    </mat-form-field>
                    <mat-form-field class="sycad-form-line" appearance="outline" [fxFlex.xs]="100" [fxFlex.sm]="100" [fxFlex.md]="60" [fxFlex.lg]="30" [fxFlex.xl]="30">
                        <mat-label>Taux</mat-label>
                        <input matInput value="{{valeurElementLiquidationData.taux}} %" [readonly]="true">
                        <mat-hint>Formule : {{valeurElementLiquidationData.elementImpot.taux.expression}}</mat-hint>
                    </mat-form-field>
                    <mat-form-field class="sycad-form-line" appearance="outline" [fxFlex.xs]="100" [fxFlex.sm]="100" [fxFlex.md]="60" [fxFlex.lg]="30" [fxFlex.xl]="30">
                        <mat-label>Signe ({{valeurElementLiquidationData.elementImpot.elementLiquidation.libelle}})</mat-label>
                        <input matInput value="{{valeurElementLiquidationData.elementImpot.elementLiquidation.signe}}" [readonly]="true">
                        <mat-hint>Unité : {{valeurElementLiquidationData.elementImpot.elementLiquidation.unite}}</mat-hint>
                    </mat-form-field>
                    <mat-form-field [formGroup]="valeurElementLiquidation" class="sycad-form-line" appearance="outline" [fxFlex.xs]="100" [fxFlex.sm]="100" [fxFlex.md]="75" [fxFlex.lg]="75" [fxFlex.xl]="75">
                        <mat-label>Observation valeur élément liquidation {{i+1}} </mat-label>
                        <input matInput [attr.autocomplete]="'off'" formControlName="observation">

                        <mat-hint> <strong>Montant</strong>: {{valeurElementLiquidationData?.montant}}</mat-hint>
                    </mat-form-field>
                </div>

            </mat-card>

        </ng-template>
    </div>
</form>